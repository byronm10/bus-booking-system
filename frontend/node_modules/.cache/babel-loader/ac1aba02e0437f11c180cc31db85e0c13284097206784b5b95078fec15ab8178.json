{"ast":null,"code":"var _jsxFileName = \"/Users/byronmartinez/Desktop/Bus-booking-system/frontend/src/components/AdministrativosDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdministrativosDashboard = () => {\n  _s();\n  var _companies$;\n  const [users, setUsers] = useState([]);\n  const [companies, setCompanies] = useState([]);\n  const [vehicles, setVehicles] = useState([]);\n  const [routes, setRoutes] = useState([]);\n  const [error, setError] = useState('');\n  const [currentUser, setCurrentUser] = useState(null);\n  const navigate = useNavigate();\n\n  // Fetch data for the administrative user's company\n  const fetchData = useCallback(async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const headers = {\n        'Authorization': `Bearer ${token}`\n      };\n\n      // First get current user to get company_id\n      console.log('Fetching current user...');\n      const currentUserRes = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/users/me`, {\n        headers\n      });\n      setCurrentUser(currentUserRes.data);\n      console.log('Current user data:', currentUserRes.data);\n\n      // Then fetch all other data filtered by company\n      console.log(`Fetching data for company: ${currentUserRes.data.company_id}`);\n      try {\n        const [usersRes, companiesRes, vehiclesRes, routesRes] = await Promise.all([axios.get(`${process.env.REACT_APP_BACKEND_URL}/users/company/${currentUserRes.data.company_id}`, {\n          headers\n        }), axios.get(`${process.env.REACT_APP_BACKEND_URL}/companies/${currentUserRes.data.company_id}`, {\n          headers\n        }), axios.get(`${process.env.REACT_APP_BACKEND_URL}/vehicles/company/${currentUserRes.data.company_id}`, {\n          headers\n        }), axios.get(`${process.env.REACT_APP_BACKEND_URL}/routes/company/${currentUserRes.data.company_id}`, {\n          headers\n        })]);\n        console.log('API Responses:', {\n          users: usersRes.data,\n          company: companiesRes.data,\n          vehicles: vehiclesRes.data,\n          routes: routesRes.data\n        });\n\n        // Filter out ADMIN and ADMINISTRATIVO users\n        const filteredUsers = usersRes.data.filter(user => !['ADMIN', 'ADMINISTRATIVO'].includes(user.role));\n        setUsers(filteredUsers);\n        setCompanies([companiesRes.data]); // Set as array with single company\n        setVehicles(vehiclesRes.data);\n        setRoutes(routesRes.data);\n      } catch (err) {\n        var _err$response, _err$response2, _err$response3, _err$response3$data;\n        console.error('Error fetching company data:', {\n          status: (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status,\n          data: (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.data,\n          error: err.message\n        });\n        setError(`Error al cargar datos: ${((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.detail) || err.message}`);\n      }\n    } catch (err) {\n      var _err$response4, _err$response5, _err$response5$data;\n      console.error('Error in fetchData:', err);\n      if (((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : _err$response4.status) === 401) {\n        navigate('/');\n      }\n      setError(`Error al cargar datos: ${((_err$response5 = err.response) === null || _err$response5 === void 0 ? void 0 : (_err$response5$data = _err$response5.data) === null || _err$response5$data === void 0 ? void 0 : _err$response5$data.detail) || err.message}`);\n    }\n  }, [navigate]);\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n  const handleSignOut = async () => {\n    try {\n      const response = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/logout`, {});\n      localStorage.clear();\n      sessionStorage.clear();\n      if (response.data.logoutUrl) {\n        window.location.replace(response.data.logoutUrl);\n      } else {\n        window.location.replace('/');\n      }\n    } catch (error) {\n      console.warn('Logout error:', error);\n      localStorage.clear();\n      sessionStorage.clear();\n      window.location.replace('/');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Dashboard Administrativo - \", (_companies$ = companies[0]) === null || _companies$ === void 0 ? void 0 : _companies$.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-buttons\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSignOut,\n          className: \"sign-out-button\",\n          children: \"Sign Out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"companies-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Informaci\\xF3n de la Empresa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), companies[0] && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"company-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Nombre:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 18\n            }, this), \" \", companies[0].name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"NIT:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 18\n            }, this), \" \", companies[0].nit]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Email:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 18\n            }, this), \" \", companies[0].email]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Tel\\xE9fono:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 18\n            }, this), \" \", companies[0].phone]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Estado:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 18\n            }, this), \" \", companies[0].status]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"users-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Usuarios\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Nombre\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Rol\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Estado\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: users.map(user => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: user.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: user.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: user.role\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: user.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 19\n              }, this)]\n            }, user.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"vehicles-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Veh\\xEDculos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Marca\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Modelo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"A\\xF1o\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Tipo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Placa\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"N\\xFAmero\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Empresa\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Estado\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: vehicles.map(vehicle => {\n              var _companies$find;\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: vehicle.brand\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: vehicle.model\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: vehicle.year\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: vehicle.vehicle_type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: vehicle.plate_number\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: vehicle.company_number\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: ((_companies$find = companies.find(c => c.id === vehicle.company_id)) === null || _companies$find === void 0 ? void 0 : _companies$find.name) || '-'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: vehicle.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 19\n                }, this)]\n              }, vehicle.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 17\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"routes-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Rutas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Nombre\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Origen\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Destino\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Salida\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Duraci\\xF3n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Empresa\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Veh\\xEDculo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Estado\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: routes.map(route => {\n              var _companies$find2, _vehicles$find;\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: route.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: route.start_point\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: route.end_point\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: new Date(route.departure_time).toLocaleString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [route.estimated_duration, \" min\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: ((_companies$find2 = companies.find(c => c.id === route.company_id)) === null || _companies$find2 === void 0 ? void 0 : _companies$find2.name) || '-'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: ((_vehicles$find = vehicles.find(v => v.id === route.vehicle_id)) === null || _vehicles$find === void 0 ? void 0 : _vehicles$find.plate_number) || '-'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: route.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 19\n                }, this)]\n              }, route.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 17\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n};\n_s(AdministrativosDashboard, \"TDdsJpxLxo58JZSgAn1yHb4HFvQ=\", false, function () {\n  return [useNavigate];\n});\n_c = AdministrativosDashboard;\nexport default AdministrativosDashboard;\nvar _c;\n$RefreshReg$(_c, \"AdministrativosDashboard\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useNavigate","axios","jsxDEV","_jsxDEV","AdministrativosDashboard","_s","_companies$","users","setUsers","companies","setCompanies","vehicles","setVehicles","routes","setRoutes","error","setError","currentUser","setCurrentUser","navigate","fetchData","token","localStorage","getItem","headers","console","log","currentUserRes","get","process","env","REACT_APP_BACKEND_URL","data","company_id","usersRes","companiesRes","vehiclesRes","routesRes","Promise","all","company","filteredUsers","filter","user","includes","role","err","_err$response","_err$response2","_err$response3","_err$response3$data","status","response","message","detail","_err$response4","_err$response5","_err$response5$data","handleSignOut","post","clear","sessionStorage","logoutUrl","window","location","replace","warn","className","children","name","fileName","_jsxFileName","lineNumber","columnNumber","onClick","nit","email","phone","map","id","vehicle","_companies$find","brand","model","year","vehicle_type","plate_number","company_number","find","c","route","_companies$find2","_vehicles$find","start_point","end_point","Date","departure_time","toLocaleString","estimated_duration","v","vehicle_id","_c","$RefreshReg$"],"sources":["/Users/byronmartinez/Desktop/Bus-booking-system/frontend/src/components/AdministrativosDashboard.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n\nconst AdministrativosDashboard = () => {\n  const [users, setUsers] = useState([]);\n  const [companies, setCompanies] = useState([]);\n  const [vehicles, setVehicles] = useState([]);\n  const [routes, setRoutes] = useState([]);\n  const [error, setError] = useState('');\n  const [currentUser, setCurrentUser] = useState(null);\n  const navigate = useNavigate();\n\n  // Fetch data for the administrative user's company\n  const fetchData = useCallback(async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const headers = {\n        'Authorization': `Bearer ${token}`\n      };\n\n      // First get current user to get company_id\n      console.log('Fetching current user...');\n      const currentUserRes = await axios.get(\n        `${process.env.REACT_APP_BACKEND_URL}/users/me`, \n        { headers }\n      );\n      setCurrentUser(currentUserRes.data);\n      console.log('Current user data:', currentUserRes.data);\n\n      // Then fetch all other data filtered by company\n      console.log(`Fetching data for company: ${currentUserRes.data.company_id}`);\n      \n      try {\n        const [usersRes, companiesRes, vehiclesRes, routesRes] = await Promise.all([\n          axios.get(`${process.env.REACT_APP_BACKEND_URL}/users/company/${currentUserRes.data.company_id}`, { headers }),\n          axios.get(`${process.env.REACT_APP_BACKEND_URL}/companies/${currentUserRes.data.company_id}`, { headers }),\n          axios.get(`${process.env.REACT_APP_BACKEND_URL}/vehicles/company/${currentUserRes.data.company_id}`, { headers }),\n          axios.get(`${process.env.REACT_APP_BACKEND_URL}/routes/company/${currentUserRes.data.company_id}`, { headers })\n        ]);\n\n        console.log('API Responses:', {\n          users: usersRes.data,\n          company: companiesRes.data,\n          vehicles: vehiclesRes.data,\n          routes: routesRes.data\n        });\n\n        // Filter out ADMIN and ADMINISTRATIVO users\n        const filteredUsers = usersRes.data.filter(user => \n          !['ADMIN', 'ADMINISTRATIVO'].includes(user.role)\n        );\n\n        setUsers(filteredUsers);\n        setCompanies([companiesRes.data]); // Set as array with single company\n        setVehicles(vehiclesRes.data);\n        setRoutes(routesRes.data);\n\n      } catch (err) {\n        console.error('Error fetching company data:', {\n          status: err.response?.status,\n          data: err.response?.data,\n          error: err.message\n        });\n        setError(`Error al cargar datos: ${err.response?.data?.detail || err.message}`);\n      }\n\n    } catch (err) {\n      console.error('Error in fetchData:', err);\n      if (err.response?.status === 401) {\n        navigate('/');\n      }\n      setError(`Error al cargar datos: ${err.response?.data?.detail || err.message}`);\n    }\n  }, [navigate]);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  const handleSignOut = async () => {\n    try {\n      const response = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/logout`, {});\n      localStorage.clear();\n      sessionStorage.clear();\n      if (response.data.logoutUrl) {\n        window.location.replace(response.data.logoutUrl);\n      } else {\n        window.location.replace('/');\n      }\n    } catch (error) {\n      console.warn('Logout error:', error);\n      localStorage.clear();\n      sessionStorage.clear();\n      window.location.replace('/');\n    }\n  };\n\n  return (\n    <div className=\"dashboard-container\">\n      <div className=\"dashboard-header\">\n        <h1>Dashboard Administrativo - {companies[0]?.name}</h1>\n        <div className=\"header-buttons\">\n          <button onClick={handleSignOut} className=\"sign-out-button\">\n            Sign Out\n          </button>\n        </div>\n      </div>\n\n      {error && <div className=\"error\">{error}</div>}\n\n      <div className=\"dashboard-content\">\n        {/* Company Section */}\n        <section className=\"companies-section\">\n          <h2>Información de la Empresa</h2>\n          {companies[0] && (\n            <div className=\"company-details\">\n              <p><strong>Nombre:</strong> {companies[0].name}</p>\n              <p><strong>NIT:</strong> {companies[0].nit}</p>\n              <p><strong>Email:</strong> {companies[0].email}</p>\n              <p><strong>Teléfono:</strong> {companies[0].phone}</p>\n              <p><strong>Estado:</strong> {companies[0].status}</p>\n            </div>\n          )}\n        </section>\n\n        {/* Users Section */}\n        <section className=\"users-section\">\n          <h2>Usuarios</h2>\n          <table>\n            <thead>\n              <tr>\n                <th>Nombre</th>\n                <th>Email</th>\n                <th>Rol</th>\n                <th>Estado</th>\n              </tr>\n            </thead>\n            <tbody>\n              {users.map(user => (\n                <tr key={user.id}>\n                  <td>{user.name}</td>\n                  <td>{user.email}</td>\n                  <td>{user.role}</td>\n                  <td>{user.status}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </section>\n\n        {/* Vehicles Section */}\n        <section className=\"vehicles-section\">\n          <h2>Vehículos</h2>\n          <table>\n            <thead>\n              <tr>\n                <th>Marca</th>\n                <th>Modelo</th>\n                <th>Año</th>\n                <th>Tipo</th>\n                <th>Placa</th>\n                <th>Número</th>\n                <th>Empresa</th>\n                <th>Estado</th>\n              </tr>\n            </thead>\n            <tbody>\n              {vehicles.map(vehicle => (\n                <tr key={vehicle.id}>\n                  <td>{vehicle.brand}</td>\n                  <td>{vehicle.model}</td>\n                  <td>{vehicle.year}</td>\n                  <td>{vehicle.vehicle_type}</td>\n                  <td>{vehicle.plate_number}</td>\n                  <td>{vehicle.company_number}</td>\n                  <td>{companies.find(c => c.id === vehicle.company_id)?.name || '-'}</td>\n                  <td>{vehicle.status}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </section>\n\n        {/* Routes Section */}\n        <section className=\"routes-section\">\n          <h2>Rutas</h2>\n          <table>\n            <thead>\n              <tr>\n                <th>Nombre</th>\n                <th>Origen</th>\n                <th>Destino</th>\n                <th>Salida</th>\n                <th>Duración</th>\n                <th>Empresa</th>\n                <th>Vehículo</th>\n                <th>Estado</th>\n              </tr>\n            </thead>\n            <tbody>\n              {routes.map(route => (\n                <tr key={route.id}>\n                  <td>{route.name}</td>\n                  <td>{route.start_point}</td>\n                  <td>{route.end_point}</td>\n                  <td>{new Date(route.departure_time).toLocaleString()}</td>\n                  <td>{route.estimated_duration} min</td>\n                  <td>{companies.find(c => c.id === route.company_id)?.name || '-'}</td>\n                  <td>{vehicles.find(v => v.id === route.vehicle_id)?.plate_number || '-'}</td>\n                  <td>{route.status}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </section>\n      </div>\n    </div>\n  );\n};\n\nexport default AdministrativosDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}