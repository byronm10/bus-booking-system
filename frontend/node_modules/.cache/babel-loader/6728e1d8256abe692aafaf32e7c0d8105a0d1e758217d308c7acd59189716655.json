{"ast":null,"code":"var _jsxFileName = \"/Users/byronmartinez/Desktop/Bus-booking-system/frontend/src/components/AdministrativosDashboard.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n// Import same state management and hooks as AdminDashboard\n// but with restricted functionality\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdministrativosDashboard = () => {\n  _s();\n  // Same state management as AdminDashboard\n  const [users, setUsers] = useState([]);\n  const [companies, setCompanies] = useState([]);\n  const [vehicles, setVehicles] = useState([]);\n  const [routes, setRoutes] = useState([]);\n  // ... other states\n\n  // Modified createUser function to restrict ADMIN and ADMINISTRATIVO creation\n  const handleCreateUser = async e => {\n    e.preventDefault();\n    try {\n      if (['ADMIN', 'ADMINISTRATIVO'].includes(userFormData.role)) {\n        setError('No tiene permisos para crear usuarios administrativos o administradores');\n        return;\n      }\n      const token = localStorage.getItem('token');\n      await axios.post(`${process.env.REACT_APP_BACKEND_URL}/users/`, userFormData, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      setShowCreateUser(false);\n      fetchUsers();\n      setUserFormData({\n        name: '',\n        email: '',\n        role: 'OPERATOR',\n        company_id: ''\n      });\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.detail) || 'Error al crear el usuario');\n    }\n  };\n\n  // Modified user role selection\n  const userRoleOptions = /*#__PURE__*/_jsxDEV(\"select\", {\n    value: userFormData.role,\n    onChange: e => setUserFormData({\n      ...userFormData,\n      role: e.target.value\n    }),\n    required: true,\n    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n      value: \"\",\n      children: \"Seleccionar rol\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n      value: \"OPERADOR\",\n      children: \"Operador\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n      value: \"CONDUCTOR\",\n      children: \"Conductor\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n      value: \"PASAJERO\",\n      children: \"Pasajero\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n      value: \"TECNICO\",\n      children: \"T\\xE9cnico\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n      value: \"JEFE_TALLER\",\n      children: \"Jefe de Taller\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n\n  // Filter out ADMIN and ADMINISTRATIVO users from display\n  const filteredUsers = users.filter(user => !['ADMIN', 'ADMINISTRATIVO'].includes(user.role));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Dashboard Administrativo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-content\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n_s(AdministrativosDashboard, \"1KNHMh0t1IkCOzVD2pwiKVSCsgE=\");\n_c = AdministrativosDashboard;\nexport default AdministrativosDashboard;\nvar _c;\n$RefreshReg$(_c, \"AdministrativosDashboard\");","map":{"version":3,"names":["React","useNavigate","axios","jsxDEV","_jsxDEV","AdministrativosDashboard","_s","users","setUsers","useState","companies","setCompanies","vehicles","setVehicles","routes","setRoutes","handleCreateUser","e","preventDefault","includes","userFormData","role","setError","token","localStorage","getItem","post","process","env","REACT_APP_BACKEND_URL","headers","setShowCreateUser","fetchUsers","setUserFormData","name","email","company_id","err","_err$response","_err$response$data","response","data","detail","userRoleOptions","value","onChange","target","required","children","fileName","_jsxFileName","lineNumber","columnNumber","filteredUsers","filter","user","className","_c","$RefreshReg$"],"sources":["/Users/byronmartinez/Desktop/Bus-booking-system/frontend/src/components/AdministrativosDashboard.js"],"sourcesContent":["import React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n// Import same state management and hooks as AdminDashboard\n// but with restricted functionality\n\nconst AdministrativosDashboard = () => {\n  // Same state management as AdminDashboard\n  const [users, setUsers] = useState([]);\n  const [companies, setCompanies] = useState([]);\n  const [vehicles, setVehicles] = useState([]);\n  const [routes, setRoutes] = useState([]);\n  // ... other states\n\n  // Modified createUser function to restrict ADMIN and ADMINISTRATIVO creation\n  const handleCreateUser = async (e) => {\n    e.preventDefault();\n    try {\n      if (['ADMIN', 'ADMINISTRATIVO'].includes(userFormData.role)) {\n        setError('No tiene permisos para crear usuarios administrativos o administradores');\n        return;\n      }\n      \n      const token = localStorage.getItem('token');\n      await axios.post(`${process.env.REACT_APP_BACKEND_URL}/users/`, userFormData, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      setShowCreateUser(false);\n      fetchUsers();\n      setUserFormData({ name: '', email: '', role: 'OPERATOR', company_id: '' });\n    } catch (err) {\n      setError(err.response?.data?.detail || 'Error al crear el usuario');\n    }\n  };\n\n  // Modified user role selection\n  const userRoleOptions = (\n    <select\n      value={userFormData.role}\n      onChange={(e) => setUserFormData({...userFormData, role: e.target.value})}\n      required\n    >\n      <option value=\"\">Seleccionar rol</option>\n      <option value=\"OPERADOR\">Operador</option>\n      <option value=\"CONDUCTOR\">Conductor</option>\n      <option value=\"PASAJERO\">Pasajero</option>\n      <option value=\"TECNICO\">TÃ©cnico</option>\n      <option value=\"JEFE_TALLER\">Jefe de Taller</option>\n    </select>\n  );\n\n  // Filter out ADMIN and ADMINISTRATIVO users from display\n  const filteredUsers = users.filter(user => \n    !['ADMIN', 'ADMINISTRATIVO'].includes(user.role)\n  );\n\n  return (\n    <div className=\"dashboard-container\">\n      <div className=\"dashboard-header\">\n        <h1>Dashboard Administrativo</h1>\n        {/* Rest of the header */}\n      </div>\n\n      {/* Same sections as AdminDashboard but with filtered users */}\n      <div className=\"dashboard-content\">\n        {/* Companies section */}\n        {/* Vehicles section */}\n        {/* Routes section */}\n        {/* Users section with filtered users */}\n      </div>\n    </div>\n  );\n};\n\nexport default AdministrativosDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}